import{_ as n,g as o,f as t,a as i,F as p,o as r}from"./index-JzpJ4zml.js";const a="https://znck.dev/_assets/8-DFrj1CFY.png",l="https://znck.dev/_assets/1-DXdjX5-5.png",h="https://znck.dev/_assets/2-D7MsCXN1.png",d="https://znck.dev/_assets/3-Co-pR-53.png",c="https://znck.dev/_assets/4-D0jie-PY.png",k="https://znck.dev/_assets/6-orW9u2_f.png",F="https://znck.dev/_assets/7-CmEfACGG.png",g="https://znck.dev/_assets/9-CVbkwbCz.png",y="https://znck.dev/_assets/9-CVbkwbCz.png",f="https://znck.dev/_assets/11-BNrKlz7P.png",m="https://znck.dev/_assets/11-BNrKlz7P.png",u="https://znck.dev/_assets/4-D0jie-PY.png",B="https://znck.dev/_assets/14-NbmcO2-_.png",v="https://znck.dev/_assets/15-CLSFubmO.png",b="https://znck.dev/_assets/16-BHsyYu-R.png",D="https://znck.dev/_assets/17-C8jafV6L.png",w="https://znck.dev/_assets/18-CHaWca_p.png",E="https://znck.dev/_assets/19-D_kZIjcx.png",S="https://znck.dev/_assets/20-Cg4DW3vD.png",_="https://znck.dev/_assets/21-CmyH3I-R.png",C="https://znck.dev/_assets/22-DR5o5qSS.png",V="https://znck.dev/_assets/23-DVc9JlQh.png",x="https://znck.dev/_assets/24-CbLZXw7V.png",T="https://znck.dev/_assets/25-DjRbyL78.png",j="https://znck.dev/_assets/26-C0DEYuO4.png",z="https://znck.dev/_assets/27-CWVjhiti.png",J="https://znck.dev/_assets/28-B1G3HcBE.png",I="https://znck.dev/_assets/29-Ck_l4EDS.png",A="https://znck.dev/_assets/30-jfmENuE8.png",e={type:"article",title:"Type Vue without TypeScript",description:"A practical guide for type checking vue components written in JS and getting things done.",tags:["vue","typescript","dx"],url:"/articles/2018-11-11-type-vue",canonicalUrl:"https://znck.dev/articles/2018-11-11-type-vue",author:"Rahul Kadyan",published:"2018-11-11T00:00:00.000Z",frontmatter:{published:"2018-11-11T00:00:00.000Z",tags:["vue","typescript","dx"]},socialImage:"../assets/2018-type-vue/8.png"};e.published=new Date(e.published);e.socialImage=a;const q={};function W(P,s,Y,N,H,L){return r(),o(p,null,[s[0]||(s[0]=t(`<h1 id="type-vue-without-typescript"><a tabindex="-1" href="#type-vue-without-typescript"><span class="icon icon-link"></span></a>Type Vue without TypeScript</h1><p>A practical guide for type checking vue components written in JS and getting things done.</p><h2 id="why-do-we-need-types"><a tabindex="-1" href="#why-do-we-need-types"><span class="icon icon-link"></span></a>Why do we need types?</h2><p>In the last decade, browsers have become very powerful, allowing developers to build rich interactive applications. The interactivity and richness have come with an increase in complexity and size of the codebase in the frontend. Large complex codebases demand more attention and frontend teams have become larger.</p><p>When more than one developer collaborates, there is a requirement of clear interfaces and APIs. JavaScript is very flexible, but you cannot deduce the type of arguments a function would accept.</p><p>e.g., What do you think print function’s argument type is?</p><pre class="shiki shiki-themes min-light min-dark" style="background-color:light-dark(#ffffff, #1f1f1f);--shiki-light-bg:#ffffff;--shiki-dark-bg:#1f1f1f;color:light-dark(#24292eff, #b392f0);--shiki-light:#24292eff;--shiki-dark:#b392f0;" tabindex="0" data-language="js"><code class="language-js"><span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">function</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> print</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(value) {</span></span>
<span class="line"><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">  console</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.log</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(value)</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre><p>The type of value is ambiguous, even after looking at the source code of the print function which poses problems in large codebases where you cannot afford to jump into the source to deduce argument type of a function. One way to resolve this issue is to document the function’s API, but docs have a tendency of getting outdated.</p><p><strong>What if there were a way to know a function’s argument types by just glancing over the function name?</strong></p><p>Yes, there is a way: types or TypeScript.</p><pre class="shiki shiki-themes min-light min-dark" style="background-color:light-dark(#ffffff, #1f1f1f);--shiki-light-bg:#ffffff;--shiki-dark-bg:#1f1f1f;color:light-dark(#24292eff, #b392f0);--shiki-light:#24292eff;--shiki-dark:#b392f0;" tabindex="0" data-language="ts"><code class="language-ts"><span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">function</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> print</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(value</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> string</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">) {</span></span>
<span class="line"><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">  console</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.log</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(value)</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre><p>As soon as we look at the print function, we know value should be a string. That little information immediately boosts collaboration and productivity.</p><p>In some sense, types make APIs self-documenting. Apart from this, code editors/IDEs also benefit a lot from types. IDEs can provide intelligent suggestions, and display type mismatches inline.</p>`,13)),s[1]||(s[1]=i("figure",{"data-type":"image",small:""},[i("div",{stack:"",column:""},[i("img",{src:l,alt:"Screenshot: Intellisense/Type-based suggestion"}),i("img",{src:h,alt:"Screenshot: Type mismatch error"})]),i("figcaption",null,"Intellisense/Type-based suggestion (top) — Type mismatch error (bottom)")],-1)),s[2]||(s[2]=t(`<blockquote><p>Any application that <em>can</em> be written in <del>JavaScript</del> TypeScript, <em>will</em> eventually be written in <del>JavaScript</del> TypeScript.</p><p>– <del>Jeff Atwood</del> Rahul Kadyan</p></blockquote><h2 id="so-typescript-is-it"><a tabindex="-1" href="#so-typescript-is-it"><span class="icon icon-link"></span></a>So TypeScript is it?</h2><p>TypeScript makes interfaces explicit and enables collaboration, but it comes with its complexity and downsides.</p><ul><li><p>Additional time would be spent adding types.</p></li><li><p>JavaScript’s flexibility is lost as we have to type everything and sometimes it gets very complicated to add types.</p></li><li><p>A steep learning curve and retraining of developer staff.</p></li></ul><h2 id="vue-and-typescript"><a tabindex="-1" href="#vue-and-typescript"><span class="icon icon-link"></span></a>Vue and TypeScript</h2><p>Vue provides a fluent object-based API for authoring composable components.</p><figure data-type="code"><pre class="shiki shiki-themes min-light min-dark" style="background-color:light-dark(#ffffff, #1f1f1f);--shiki-light-bg:#ffffff;--shiki-dark-bg:#1f1f1f;color:light-dark(#24292eff, #b392f0);--shiki-light:#24292eff;--shiki-dark:#b392f0;" tabindex="0" data-language="js"><code class="language-js"><span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">export</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;"> default</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {</span></span>
<span class="line"><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  data</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">() {</span></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">    return</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">      items</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> []</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">    }</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  }</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  methods</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {</span></span>
<span class="line"><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    add</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(text) {</span></span>
<span class="line"><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">      this</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">items</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.push</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">({ text</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> done</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> false</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> })</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">    }</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span></span>
<span class="line"><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    complete</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(index) {</span></span>
<span class="line"><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">      this</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">.items[index].done </span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">=</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">    }</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  }</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre><figcaption>Todo list component (JavaScript)</figcaption></figure><p>The above component can be written in TypeScript as:</p><figure data-type="code"><pre class="shiki shiki-themes min-light min-dark" style="background-color:light-dark(#ffffff, #1f1f1f);--shiki-light-bg:#ffffff;--shiki-dark-bg:#1f1f1f;color:light-dark(#24292eff, #b392f0);--shiki-light:#24292eff;--shiki-dark:#b392f0;" tabindex="0" data-language="ts"><code class="language-ts"><span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">import</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> { Component</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> Vue } </span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">from</span><span style="color:light-dark(#22863A, #FFAB70);--shiki-light:#22863A;--shiki-dark:#FFAB70;"> &#39;vue-property-decorator&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">interface</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TodoItem</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  text</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  done</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> boolean</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">@Component</span></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">export</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;"> default</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;"> class</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Todo</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;"> extends</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vue</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {</span></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">  private</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> items</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">!:</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TodoItem</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">[]</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">  private</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(text</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> string</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">) {</span></span>
<span class="line"><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">    this</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">items</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.push</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">({ text</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> done</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> false</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> })</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">  private</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> complete</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(index</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> number</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">) {</span></span>
<span class="line"><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">    this</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">.items[index].done </span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">=</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  }</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre><figcaption>Todo list component (TypeScript)</figcaption></figure><p>With TypeScript, you get type based intellisense which boosts developer productivity.</p>`,10)),s[3]||(s[3]=i("figure",{"data-type":"image",large:""},[i("div",{stack:"",row:"",wide:""},[i("img",{src:d,alt:"VS Code type inference in Vue components written in JavaScript"}),i("img",{src:c,alt:"VS Code type inference in Vue components written in TypeScript"})]),i("figcaption",null,"VS Code type inference in Vue components written in JavaScript(left) and TypeScript(right)")],-1)),s[4]||(s[4]=t('<p>TypeScript support in Vue was an afterthought, and it becomes quite verbose in real-world applications. <strong><em>Good thing is that’s going to change with Vue 3 coming mid-next year.</em></strong></p><p>Adding types to Vuex is even more complex and unpleasant. Also, the intellisense on state/getter/actions mapped to components is almost non-existent.</p><blockquote><p>Most common bugs in Vue apps are not due to type errors.</p><p>— Chris Fritz, Curator of Vue Docs</p></blockquote><p>Yes, that’s true, and tools like ESLint are far more helpful in catching these bugs.</p><h2 id="so-do-we-need-typescript-at-all"><a tabindex="-1" href="#so-do-we-need-typescript-at-all"><span class="icon icon-link"></span></a>So, do we need TypeScript at all?</h2><p>Maybe but you don’t need to jump on it today. TypeScript ensures type safety, documents API interfaces and enables intellisense in IDEs. I feel intellisense is far more critical in Vue application projects than type safety.</p><p>The best thing about TypeScript is that <strong>you can take advantage of TypeScript without using TypeScript</strong>.</p><p>Yes, with VS Code and TypeScript, we can get intellisense in JavaScript files. We can enforce type safety too if we want that. VS Code infers JSDoc annotations to generate TypeScript definition on the fly. Let’s set up a JavaScript project with types and intellisense.</p><h2 id="intellisense-in-javascript"><a tabindex="-1" href="#intellisense-in-javascript"><span class="icon icon-link"></span></a>Intellisense in JavaScript</h2><p>In JavaScript files, VS Code infers types for static values to provide intellisense, including object property names, function return value type, and property types.</p>',10)),s[5]||(s[5]=i("figure",{"data-type":"image",large:""},[i("div",{stack:"",column:""},[i("img",{src:k,alt:"VS Code type inference on object properties"}),i("img",{src:F,alt:"return value from function"})]),i("figcaption",null,"VS Code type inference on object properties (top) and return value from function (bottom)")],-1)),s[6]||(s[6]=t('<p>VS Code has <a href="https://code.visualstudio.com/docs/languages/javascript#_automatic-type-acquisition" target="_blank" rel="noopener noreferrer">automatic type acquisition</a> which uses npm package’s bundled types or community types from <a href="https://github.com/DefinitelyTyped/DefinitelyTyped" target="_blank" rel="noopener noreferrer">DefinitelyTyped</a> to provide intellisense, including method signature and parameter info. Also, using Vue’s type information and <a href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target="_blank" rel="noopener noreferrer">Vetur plugin</a>, it can provide rich completions and type information in .vue files too.</p><p><img src="'+a+'" alt="Autocomplete Suggestions"></p><p><img src="'+g+'" alt="Type Inference"></p><p>However, static type inference for array literals and dynamic values is not possible, for such cases, VS Code can use <a href="http://usejsdoc.org" target="_blank" rel="noopener noreferrer">JSDoc</a> annotations to collect type information. In the following snippet, type of this.items is detected as an array of type any, as it’s known statically that this.items is an array, but there is no information about values in the array. We can use a@type annotation for adding type information to this.items, @type allows adding type information, similar to any typed language (or TypeScript).</p><p><img src="'+y+'" alt="VS Code type inference in Vue components written in JavaScript"></p><p><img src="'+f+'" alt="VS Code type inference in Vue components written in JavaScript with JSDoc annotation"></p><p>VS Code type inference from JSDoc comments is as reasonable as TypeScript. See the following code snippets written in JavaScript and TypeScript.</p><p><img src="'+m+'" alt="VS Code type inference in Vue components written in JavaScript"></p><p><img src="'+u+'" alt="VS Code type inference in Vue components written in Typescript"></p><h2 id="using-jsdoc-to-add-type-information-to-vue-components"><a tabindex="-1" href="#using-jsdoc-to-add-type-information-to-vue-components"><span class="icon icon-link"></span></a>Using JSDoc to add type information to Vue components</h2><p>Vue component options have data, props, computed and methods which when provided with type information can significantly improve the developer experience.</p><h2 id="1-data"><a tabindex="-1" href="#1-data"><span class="icon icon-link"></span></a>1. Data</h2><p>We have to provide @type annotations for properties which are impossible infer statically. e.g.:</p>',13)),s[7]||(s[7]=i("figure",{"data-type":"image"},[i("div",{stack:"",row:"",wide:""},[i("img",{src:B,alt:"Vue component definition"}),i("img",{src:v,alt:"Inferred type data object"})]),i("figcaption",null,"Vue component definition (left) and inferred type data object (right)")],-1)),s[8]||(s[8]=i("p",null,"In the above snippet, items and currentItem have incomplete type information, so we need@type annotations only for those two properties.",-1)),s[9]||(s[9]=i("figure",{"data-type":"image"},[i("div",{stack:"",row:"",wide:""},[i("img",{src:b,alt:"Vue component definition"}),i("img",{src:D,alt:"inferred type data object"})]),i("figcaption",null,"Vue component definition (left) and inferred type data object (right)")],-1)),s[10]||(s[10]=i("p",null,"Type definitions for items and currentItem are quite similar. If we were writing TypeScript, we would have created an interface for the item type. With JSDoc, we can define custom types or interfaces using a@typedef annotation.",-1)),s[11]||(s[11]=i("figure",{"data-type":"image"},[i("div",{stack:"",row:""},[i("img",{src:w,alt:"JSDoc typedef example"}),i("img",{src:E,alt:"inferred type in VS Code"})]),i("figcaption",null,"JSDoc typedef example (left) and inferred type in VS Code (right)")],-1)),s[12]||(s[12]=t('<p>Autocomplete suggestions and type information for data are available on this context in life-cycle hooks, methods, computed and watch handlers.</p><h2 id="2-props"><a tabindex="-1" href="#2-props"><span class="icon icon-link"></span></a>2. Props</h2><p>For primitive props, VS Code can infer type information automatically.</p><p><img src="'+S+'" alt="Vue component options with props as object map of types"></p><p><img src="'+_+'" alt="Vue component options with props as validator options having type key"></p><p>However, if you have Object or Array as the type, then auto-inferred type information is useless. In such cases, we have to provide type information with a @type annotation.</p><p><img src="'+C+'" alt="Vue component options with props as object map of types having complex types"></p><p>It even works with the validator options syntax for props.</p><p><img src="'+V+'" alt="Vue component options with props as validator options having type key having complex types"></p><p>When defining prop names as an array, it&#39;s a little complex to provide type information. It is discouraged to use names array for props definition.</p><p><img src="'+x+'" alt="Discouraged syntax for prop definition in Vue component options"></p><h2 id="3-computed"><a tabindex="-1" href="#3-computed"><span class="icon icon-link"></span></a>3. Computed</h2><p>For computed properties, automatic return type inference does not work as expected but it does provide computed property names in suggestions.</p><p><img src="'+T+'" alt="Vue component’s computed property in VS Code suggestions"></p><p>So with a @returns annotation, we can provide type information for the returned value as well.</p><p><img src="'+j+'" alt="Vue component’s computed property with type information inferred from JSDoc in VS Code suggestions"></p><h2 id="4-methods"><a tabindex="-1" href="#4-methods"><span class="icon icon-link"></span></a>4. Methods</h2><p>Method names are available in VS Code suggestions on this context, but they lack type information.</p><p><img src="'+z+'" alt="Vue component’s method name autocomplete suggestion in VS Code"></p><p>Here, we see the add method accepts one parameter text and returns a number, the auto inferred information is already beneficial, and if we can provide type information for the text parameter, we get the complete experience of a typed language. Moreover, we can add types to parameters using the <code>@param</code> annotation.</p><p><img src="'+J+'" alt="Vue component’s method name autocomplete suggestion in VS Code with complete type information"></p><p>We can even provide a small description of the method if it’s not clear from its name.</p><p><img src="'+I+'" alt="Vue component’s method name autocomplete suggestion in VS Code with complete type information and custom description"></p><p>VS Code supports even more JSDoc annotations; you can find the complete list of supported annotations on the <a href="https://github.com/Microsoft/TypeScript/wiki/JsDoc-support-in-JavaScript" target="_blank" rel="noopener noreferrer">VS Code wiki page</a>.</p><h2 id="can-we-do-strict-type-checks-in-javascript"><a tabindex="-1" href="#can-we-do-strict-type-checks-in-javascript"><span class="icon icon-link"></span></a>Can we do strict type checks in JavaScript?</h2><p>Yes, it’s possible, add <code>// @ts-check</code> at the start of the script in .vue file.</p><p><img src="'+A+`" alt="Strict type check errors in JavaScript"></p><p>If you want to enable strict type checks in the whole project, then you should add a jsconfig.json file to the project root.</p><pre class="shiki shiki-themes min-light min-dark" style="background-color:light-dark(#ffffff, #1f1f1f);--shiki-light-bg:#ffffff;--shiki-dark-bg:#1f1f1f;color:light-dark(#24292eff, #b392f0);--shiki-light:#24292eff;--shiki-dark:#b392f0;" tabindex="0" data-language="json"><code class="language-json"><span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">{</span></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F8F8F8);--shiki-light:#D32F2F;--shiki-dark:#F8F8F8;">  &quot;compilerOptions&quot;</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">:</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {</span></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F8F8F8);--shiki-light:#D32F2F;--shiki-dark:#F8F8F8;">    &quot;checkJs&quot;</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  }</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre><p>You can find more options at the <a href="https://code.visualstudio.com/docs/languages/jsconfig" target="_blank" rel="noopener noreferrer">jsconfig.json reference</a>.</p><blockquote><p><del>I will be writing a separate article for adding type information with vuex and vue-router.</del> <a href="https://znck.dev/blog/2018-type-vuex" target="_blank" rel="noopener noreferrer">Type Vuex without TypeScript</a></p></blockquote>`,31))],64)}const R=n(q,[["render",W],["__file","2018-11-11-type-vue.md"]]);export{R as default,e as pageData};

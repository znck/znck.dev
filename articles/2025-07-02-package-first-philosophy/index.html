<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Package-First Philosophy | Rahul Kadyan</title><meta name="description" content="A year ago, we were facing a common challenge: a sprawling codebase where everything was interconnected. Fixing one issue often broke something else. Refactors felt like high-stakes operations. Code reviews were slow and confusing because no one was clear on ownership. It was a familiar problem, and it was draining."><link rel="icon" type="image/x-icon" href="/_assets/favicon-Bdf8E-7X.png"><style>*,::after,::before{box-sizing:border-box;margin:0;padding:0}:root{--font-sans:'Noto Serif',system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;--font-mono:'SFMono-Regular',Consolas,'Liberation Mono',Menlo,monospace;--text-body:#333;--text-muted:#666;--background:#ffffff;--accent:#005fcc;--border:#e0e0e0;--radius:0.5rem;--line-height:1.6}@media (prefers-color-scheme:dark){:root{--text-body:#dadada;--text-muted:#a0a0a0;--background:#111111;--accent:#7aa9ff;--border:#333333}}html{font-size:100%;color-scheme:light dark}body{font-family:var(--font-sans);color:var(--text-body);background-color:var(--background);line-height:var(--line-height);-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}#app{width:min(90vw,700px);margin-inline:auto;padding-block:2rem}.moss-site-header{margin-block-end:2rem}nav{margin-block-start:0.5rem;display:flex;gap:1rem;flex-wrap:wrap}nav a{color:var(--text-muted);text-decoration:none;font-weight:500}nav a:focus,nav a:hover{color:var(--accent)}h1,h2,h3,h4,h5,h6{line-height:1.25;font-weight:700;margin-block:1.5rem 1rem}blockquote,ol,p,pre,table,ul{margin-block:1rem}article{margin-block-end:3rem}a{color:var(--accent);text-decoration-color:color-mix(in srgb,var(--accent) 50%,transparent);text-underline-offset:2px}a:focus,a:hover{text-decoration-thickness:2px}blockquote{border-inline-start:0.25rem solid var(--accent);padding-inline-start:1rem;color:var(--text-muted);font-style:italic}code,pre{font-family:var(--font-mono);border-radius:var(--radius)}pre:not(:has(> code)){overflow-x:auto;padding:1rem}pre:has(> code){border:1px solid var(--border)}pre>code{overflow-x:auto;padding:1rem;width:100%;display:block}pre[data-file],pre[data-language]{position:relative}pre[data-language]::after{content:attr(data-language);position:absolute;top:0;right:0;padding:.125rem .25rem;color:var(--text-muted);border-radius:var(--radius);font-size:.6rem;text-transform:uppercase}pre[data-file]::before{content:'FILE: ' attr(data-file);position:absolute;top:0;left:0;padding:.125rem .25rem .125rem 1rem;color:var(--text-muted);border-radius:var(--radius);font-size:.6rem}code{padding:.125rem .25rem}code:not([class]):not(pre code){background-color:color-mix(in srgb,var(--accent) 10%,var(--background));color:var(--accent);padding:.125rem .25rem;border-radius:var(--radius)}article img,figure img{max-width:100%;height:auto;max-height:80dvh;border-radius:var(--radius)}img[large]{display:block;margin:2rem auto}figcaption{font-size:.875rem;text-align:center;color:var(--text-muted);margin-top:.5rem}table{width:100%;border-collapse:collapse}table td,table th{padding:.75rem 1rem;text-align:left;border-bottom:1px solid var(--border)}table thead th{border-bottom:2px solid var(--border)}footer{font-size:.875rem;color:var(--text-muted);border-top:1px solid var(--border);padding-block:2rem;margin-block-start:4rem}ol,ul{padding-inline-start:1.5rem}ul{list-style-type:disc}ol{list-style-type:decimal}ol ol,ol ul,ul ol,ul ul{margin-block-start:0.5rem;margin-block-end:0.5rem;list-style-type:circle}li{margin-block:0.5rem}.moss-skip-link,.sr-only{display:inline-block;width:1px;height:1px;padding:0;margin:-1px 0 0 -1px;overflow:hidden;clip:rect(0,0,0,0);clip-path:circle(0);white-space:nowrap;border:0}.moss-skip-link:active,.moss-skip-link:focus{overflow:visible;z-index:1000}.moss-anchored-heading{position:relative}.moss-anchor::before{content:'#';display:inline-block;margin-left:-1.25ch;margin-right:.25ch;fill:currentColor;opacity:0;transition:opacity 250ms ease-in-out}.moss-anchor-container{position:absolute;top:0;left:0}.moss-anchor-container:focus .moss-anchor::before,.moss-anchor-container:focus-within .moss-anchor::before,.moss-anchor-container:hover .moss-anchor::before,.moss-anchored-heading:focus .moss-anchor::before,.moss-anchored-heading:focus-within .moss-anchor::before,.moss-anchored-heading:hover .moss-anchor::before{opacity:1}</style><link rel="alternate" type="text/markdown" href="https://znck.dev/articles/2025-07-02-package-first-philosophy.md"><link rel="canonical" href="https://znck.dev/articles/2025-07-02-package-first-philosophy"><link rel="alternate" type="application/atom+xml" href="https://znck.dev/atom.xml"><link rel="alternate" type="application/rss+xml" href="https://znck.dev/rss.xml"><script type="module" crossorigin src="/_assets/index-CslQqMog.js"></script></head><body><div id="app"><!--[--><a class="moss-skip-link" href="#moss-content-region">Skip to content</a><header class="moss-site-header"><nav aria-label="Primary navigation"><a href="/">Home</a></nav></header><main id="moss-content-region" class="moss-content moss-layout-default"><article><!--[--><!--[--><h1 id="package-first-philosophy" class="moss-anchored-heading">Package-First Philosophy<a tabindex="-1" class="moss-anchor-container" href="#package-first-philosophy"><span class="moss-anchor"></span><span class="sr-only">Jump to section titled Package-First Philosophy</span></a></h1><p>A year ago, we were facing a common challenge: a sprawling codebase where everything was interconnected. Fixing one issue often broke something else. Refactors felt like high-stakes operations. Code reviews were slow and confusing because no one was clear on ownership. It was a familiar problem, and it was draining.</p><p>We decided to change that—not just with better tooling, but by reshaping the way we thought about code.</p><p>So we made a simple bet: <strong>make packages the center of the universe</strong>.</p><h2 id="why-package-first" class="moss-anchored-heading">Why Package-First?<a tabindex="-1" class="moss-anchor-container" href="#why-package-first"><span class="moss-anchor"></span><span class="sr-only">Jump to section titled Why Package-First?</span></a></h2><p>If something deserves a name, it deserves a package.</p><p>In our world, a package is a unit of structure, ownership, and contribution. It owns its code, tests, documentation, and public interface. It’s a contract—not just to the system, but to the team maintaining it.</p><p>This model provides several benefits:</p><ul><li><strong>Isolation</strong>: Changes in one package stay within that package.</li><li><strong>Ownership</strong>: Contributors are responsible for specific, focused units.</li><li><strong>Autonomy</strong>: You don’t need to coordinate across teams to ship new features.</li><li><strong>Composability</strong>: Small components can be combined to create larger systems.</li><li><strong>Focus</strong>: The smaller the surface area, the easier it is to reason about.</li></ul><p>The side effect? Simpler code, fewer arguments, faster reviews, and clearer responsibilities.</p><h2 id="habits-triggers-and-code" class="moss-anchored-heading">Habits, Triggers, and Code<a tabindex="-1" class="moss-anchor-container" href="#habits-triggers-and-code"><span class="moss-anchor"></span><span class="sr-only">Jump to section titled Habits, Triggers, and Code</span></a></h2><p>While reading <em>The Power of Habit</em> by Charles Duhigg, one idea stood out: habits are built on cues, routines, and rewards. Change the cue, and the routine often follows.</p><p>That resonated with our experience.</p><p>Once we made it easy to create a new package—just a few keystrokes and a scaffolded module was ready—developers started defaulting to it. The friction was gone. The cue shifted: instead of asking &quot;where should I add this code?&quot;, the new instinct became &quot;should I create a new package for this?&quot;</p><p>The result? A new habit. Modular thinking became automatic. Developers started creating focused packages, with clear interfaces and isolated tests. The reward was immediate: fewer merge conflicts, faster reviews, and a deeper sense of ownership.</p><p>As Duhigg puts it, once a habit loop is established, it reinforces itself. The package-first mindset became that loop.</p><h2 id="enabling-package-first-development" class="moss-anchored-heading">Enabling Package-First Development<a tabindex="-1" class="moss-anchor-container" href="#enabling-package-first-development"><span class="moss-anchor"></span><span class="sr-only">Jump to section titled Enabling Package-First Development</span></a></h2><p>Making package creation easy was a game-changer. Teams stopped overloading existing modules and started creating new packages instead. The monolith didn’t shrink, but it became much more understandable.</p><p>We used Nx and pnpm to implement this, but the tools were just the means to an end. Here’s what we focused on:</p><ul><li><strong>Nx generators</strong>: These scaffold fully functional packages for known types—<code>utility</code>, <code>tool</code>, <code>feature</code>, or <code>app</code>. Each package comes with build, test, lint, and documentation preconfigured.</li><li><strong>Ready-to-use packages</strong>: No extra setup required. Just start writing code.</li><li><strong>Explicit public interfaces</strong>: All public interfaces are clearly marked with <code>@public</code>, and we enforce this through tooling.</li></ul><p>As friction disappeared, hesitation followed suit. Developers iterated faster, experimented more, and by default, wrote more modular code.</p><h2 id="metadata-is-ownership" class="moss-anchored-heading">Metadata is Ownership<a tabindex="-1" class="moss-anchor-container" href="#metadata-is-ownership"><span class="moss-anchor"></span><span class="sr-only">Jump to section titled Metadata is Ownership</span></a></h2><p>Every package clearly defines its owner, where to file bugs, and what it does. But the real power is in the metadata: the <code>package.json</code> often tells you more than the code itself. It communicates intent, capabilities, and responsibilities—all without opening a single <code>.ts</code> file.</p><p>Here’s how it works:</p><ul><li><strong>Ownership metadata</strong> drives the routing of code reviews, ensuring that the right people are involved.</li><li><strong>Capability metadata</strong> enables feature discovery and helps developers understand what each package is responsible for.</li><li><strong>Dependency metadata</strong> powers impact analysis, letting you know how changes will affect other parts of the codebase.</li></ul><p>This isn’t just documentation—it’s operational infrastructure. By treating packages as self-describing units, we gain confidence across the board, and this structure supports automated tooling and decision-making.</p><h2 id="scale-by-design" class="moss-anchored-heading">Scale by Design<a tabindex="-1" class="moss-anchor-container" href="#scale-by-design"><span class="moss-anchor"></span><span class="sr-only">Jump to section titled Scale by Design</span></a></h2><p>When everything is a package:</p><ul><li>Teams onboard faster because they understand exactly where to find and contribute to code.</li><li>Features become portable, easily shared and reused.</li><li>Applications become compositions rather than monolithic systems.</li><li>Dependencies stay local, reducing complexity and risk.</li></ul><p>It’s not magic—it’s just structure. And structure scales.</p><p>In the first six months, we saw over 80 new packages created, many by teams who had never worked in this repo before. That wasn’t just a win for tooling—it was a shift in how people thought about software: small, manageable units, clear contracts, and fast feedback.</p><p>As we leaned further into the package-first model, it reinforced itself. Better structure led to better habits. Better habits led to better software.</p><!--]--><!--]--></article></main><!--]--></div></body></html>
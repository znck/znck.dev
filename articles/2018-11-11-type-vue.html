<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Type Vue without TypeScript | Rahul Kadyan</title>
    <meta name="description" content="undefined">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8Xw8AAusB9Wnh/8sAAAAASUVORK5CYII=">
    <link rel="alternate" type="text/markdown" href="/articles/2018-11-11-type-vue.md">
    <script type="module" crossorigin src="/_assets/index-CrAebqfu.js"></script>
    <link rel="stylesheet" crossorigin href="/_assets/index-yjBW69Kn.css">
  </head>
  <body>
    <div id="app"><!--[--><a class="hidden" href="#content">Skip to content</a><header class="site-header"><nav aria-label="Primary navigation"><a href="/">Home</a></nav></header><main id="content"><article><!--[--><!--[--><a class="hidden" href="#content">Skip to content</a><header class="site-header"><nav aria-label="Primary navigation"><a href="/">Home</a></nav></header><main id="content"><article><!--[--><!--[--><a class="hidden" href="#content">Skip to content</a><header class="site-header"><nav aria-label="Primary navigation"><a href="/">Home</a></nav></header><main id="content"><article><!--[--><!--[--><a class="hidden" href="#content">Skip to content</a><header class="site-header"><nav aria-label="Primary navigation"><a href="/">Home</a></nav></header><main id="content"><article><!--[--><!--[--><a class="hidden" href="#content">Skip to content</a><header class="site-header"><nav aria-label="Primary navigation"><a href="/">Home</a></nav></header><main id="content"><article><!--[--><!--[--><h1>Type Vue without TypeScript</h1><p>A practical guide for type checking vue components written in JS and getting things done.</p><h2>Why do we need types?</h2><p>In the last decade, browsers have become very powerful, allowing developers to build rich interactive applications. The interactivity and richness have come with an increase in complexity and size of the codebase in the frontend. Large complex codebases demand more attention and frontend teams have become larger.</p><p>When more than one developer collaborates, there is a requirement of clear interfaces and APIs. JavaScript is very flexible, but you cannot deduce the type of arguments a function would accept.</p><p>e.g., What do you think print function’s argument type is?</p><pre class="shiki shiki-themes min-light min-dark" style="background-color:light-dark(#ffffff, #1f1f1f);--shiki-light-bg:#ffffff;--shiki-dark-bg:#1f1f1f;color:light-dark(#24292eff, #b392f0);--shiki-light:#24292eff;--shiki-dark:#b392f0;" tabindex="0"><code class="language-js"><span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">function</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> print</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(value) {</span></span>
<span class="line"><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">  console</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.log</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(value)</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre><p>The type of value is ambiguous, even after looking at the source code of the print function which poses problems in large codebases where you cannot afford to jump into the source to deduce argument type of a function. One way to resolve this issue is to document the function’s API, but docs have a tendency of getting outdated.</p><p><strong>What if there were a way to know a function’s argument types by just glancing over the function name?</strong></p><p>Yes, there is a way: types or TypeScript.</p><pre class="shiki shiki-themes min-light min-dark" style="background-color:light-dark(#ffffff, #1f1f1f);--shiki-light-bg:#ffffff;--shiki-dark-bg:#1f1f1f;color:light-dark(#24292eff, #b392f0);--shiki-light:#24292eff;--shiki-dark:#b392f0;" tabindex="0"><code class="language-ts"><span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">function</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> print</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(value</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> string</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">) {</span></span>
<span class="line"><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">  console</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.log</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(value)</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre><p>As soon as we look at the print function, we know value should be a string. That little information immediately boosts collaboration and productivity.</p><p>In some sense, types make APIs self-documenting. Apart from this, code editors/IDEs also benefit a lot from types. IDEs can provide intelligent suggestions, and display type mismatches inline.</p><figure data-type="image" small=""><div stack="" column=""><img src="/assets/1-DXdjX5-5.png" alt="Screenshot: Intellisense/Type-based suggestion"><img src="/assets/2-D7MsCXN1.png" alt="Screenshot: Type mismatch error"></div><figcaption>Intellisense/Type-based suggestion (top) — Type mismatch error (bottom)</figcaption></figure><blockquote><p>Any application that <em>can</em> be written in <del>JavaScript</del> TypeScript, <em>will</em> eventually be written in <del>JavaScript</del> TypeScript.</p><p>– <del>Jeff Atwood</del> Rahul Kadyan</p></blockquote><h2>So TypeScript is it?</h2><p>TypeScript makes interfaces explicit and enables collaboration, but it comes with its complexity and downsides.</p><ul><li><p>Additional time would be spent adding types.</p></li><li><p>JavaScript’s flexibility is lost as we have to type everything and sometimes it gets very complicated to add types.</p></li><li><p>A steep learning curve and retraining of developer staff.</p></li></ul><h2>Vue and TypeScript</h2><p>Vue provides a fluent object-based API for authoring composable components.</p><figure data-type="code"><pre class="shiki shiki-themes min-light min-dark" style="background-color:light-dark(#ffffff, #1f1f1f);--shiki-light-bg:#ffffff;--shiki-dark-bg:#1f1f1f;color:light-dark(#24292eff, #b392f0);--shiki-light:#24292eff;--shiki-dark:#b392f0;" tabindex="0"><code class="language-js"><span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">export</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;"> default</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {</span></span>
<span class="line"><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  data</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">() {</span></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">    return</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">      items</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> []</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">    }</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  }</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  methods</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {</span></span>
<span class="line"><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    add</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(text) {</span></span>
<span class="line"><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">      this</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">items</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.push</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">({ text</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> done</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> false</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> })</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">    }</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span></span>
<span class="line"><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    complete</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(index) {</span></span>
<span class="line"><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">      this</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">.items[index].done </span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">=</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">    }</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  }</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre><figcaption>Todo list component (JavaScript)</figcaption></figure><p>The above component can be written in TypeScript as:</p><figure data-type="code"><pre class="shiki shiki-themes min-light min-dark" style="background-color:light-dark(#ffffff, #1f1f1f);--shiki-light-bg:#ffffff;--shiki-dark-bg:#1f1f1f;color:light-dark(#24292eff, #b392f0);--shiki-light:#24292eff;--shiki-dark:#b392f0;" tabindex="0"><code class="language-ts"><span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">import</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> { Component</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> Vue } </span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">from</span><span style="color:light-dark(#22863A, #FFAB70);--shiki-light:#22863A;--shiki-dark:#FFAB70;"> &#39;vue-property-decorator&#39;</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">interface</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TodoItem</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  text</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  done</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> boolean</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">@Component</span></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">export</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;"> default</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;"> class</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Todo</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;"> extends</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vue</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {</span></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">  private</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> items</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">!:</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TodoItem</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">[]</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">  private</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(text</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> string</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">) {</span></span>
<span class="line"><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">    this</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">items</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.push</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">({ text</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> done</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> false</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> })</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">  private</span><span style="color:light-dark(#6F42C1, #B392F0);--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> complete</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(index</span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> number</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">) {</span></span>
<span class="line"><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;">    this</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">.items[index].done </span><span style="color:light-dark(#D32F2F, #F97583);--shiki-light:#D32F2F;--shiki-dark:#F97583;">=</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  }</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre><figcaption>Todo list component (TypeScript)</figcaption></figure><p>With TypeScript, you get type based intellisense which boosts developer productivity.</p><figure data-type="image" large=""><div stack="" row="" wide=""><img src="/assets/3-Co-pR-53.png" alt="VS Code type inference in Vue components written in JavaScript"><img src="/assets/4-D0jie-PY.png" alt="VS Code type inference in Vue components written in TypeScript"></div><figcaption>VS Code type inference in Vue components written in JavaScript(left) and TypeScript(right)</figcaption></figure><p>TypeScript support in Vue was an afterthought, and it becomes quite verbose in real-world applications. <strong><em>Good thing is that’s going to change with Vue 3 coming mid-next year.</em></strong></p><p>Adding types to Vuex is even more complex and unpleasant. Also, the intellisense on state/getter/actions mapped to components is almost non-existent.</p><blockquote><p>Most common bugs in Vue apps are not due to type errors.</p><p>— Chris Fritz, Curator of Vue Docs</p></blockquote><p>Yes, that’s true, and tools like ESLint are far more helpful in catching these bugs.</p><h2>So, do we need TypeScript at all?</h2><p>Maybe but you don’t need to jump on it today. TypeScript ensures type safety, documents API interfaces and enables intellisense in IDEs. I feel intellisense is far more critical in Vue application projects than type safety.</p><p>The best thing about TypeScript is that <strong>you can take advantage of TypeScript without using TypeScript</strong>.</p><p>Yes, with VS Code and TypeScript, we can get intellisense in JavaScript files. We can enforce type safety too if we want that. VS Code infers JSDoc annotations to generate TypeScript definition on the fly. Let’s set up a JavaScript project with types and intellisense.</p><h2>Intellisense in JavaScript</h2><p>In JavaScript files, VS Code infers types for static values to provide intellisense, including object property names, function return value type, and property types.</p><figure data-type="image" large=""><div stack="" column=""><img src="/assets/6-orW9u2_f.png" alt="VS Code type inference on object properties"><img src="/assets/7-CmEfACGG.png" alt="return value from function"></div><figcaption>VS Code type inference on object properties (top) and return value from function (bottom)</figcaption></figure><p>VS Code has <a href="https://code.visualstudio.com/docs/languages/javascript#_automatic-type-acquisition" target="_blank" rel="noopener noreferrer">automatic type acquisition</a> which uses npm package’s bundled types or community types from <a href="https://github.com/DefinitelyTyped/DefinitelyTyped" target="_blank" rel="noopener noreferrer">DefinitelyTyped</a> to provide intellisense, including method signature and parameter info. Also, using Vue’s type information and <a href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target="_blank" rel="noopener noreferrer">Vetur plugin</a>, it can provide rich completions and type information in .vue files too.</p><p><img src="/assets/8-DFrj1CFY.png" alt="Autocomplete Suggestions"></p><p><img src="/assets/9-CVbkwbCz.png" alt="Type Inference"></p><p>However, static type inference for array literals and dynamic values is not possible, for such cases, VS Code can use <a href="http://usejsdoc.org" target="_blank" rel="noopener noreferrer">JSDoc</a> annotations to collect type information. In the following snippet, type of this.items is detected as an array of type any, as it’s known statically that this.items is an array, but there is no information about values in the array. We can use a@type annotation for adding type information to this.items, @type allows adding type information, similar to any typed language (or TypeScript).</p><p><img src="/assets/9-CVbkwbCz.png" alt="VS Code type inference in Vue components written in JavaScript"></p><p><img src="/assets/11-BNrKlz7P.png" alt="VS Code type inference in Vue components written in JavaScript with JSDoc annotation"></p><p>VS Code type inference from JSDoc comments is as reasonable as TypeScript. See the following code snippets written in JavaScript and TypeScript.</p><p><img src="/assets/11-BNrKlz7P.png" alt="VS Code type inference in Vue components written in JavaScript"></p><p><img src="/assets/4-D0jie-PY.png" alt="VS Code type inference in Vue components written in Typescript"></p><h2>Using JSDoc to add type information to Vue components</h2><p>Vue component options have data, props, computed and methods which when provided with type information can significantly improve the developer experience.</p><h2>1. Data</h2><p>We have to provide @type annotations for properties which are impossible infer statically. e.g.:</p><figure data-type="image"><div stack="" row="" wide=""><img src="/assets/14-NbmcO2-_.png" alt="Vue component definition"><img src="/assets/15-CLSFubmO.png" alt="Inferred type data object"></div><figcaption>Vue component definition (left) and inferred type data object (right)</figcaption></figure><p>In the above snippet, items and currentItem have incomplete type information, so we need@type annotations only for those two properties.</p><figure data-type="image"><div stack="" row="" wide=""><img src="/assets/16-BHsyYu-R.png" alt="Vue component definition"><img src="/assets/17-C8jafV6L.png" alt="inferred type data object"></div><figcaption>Vue component definition (left) and inferred type data object (right)</figcaption></figure><p>Type definitions for items and currentItem are quite similar. If we were writing TypeScript, we would have created an interface for the item type. With JSDoc, we can define custom types or interfaces using a@typedef annotation.</p><figure data-type="image"><div stack="" row=""><img src="/assets/18-CHaWca_p.png" alt="JSDoc typedef example"><img src="/assets/19-D_kZIjcx.png" alt="inferred type in VS Code"></div><figcaption>JSDoc typedef example (left) and inferred type in VS Code (right)</figcaption></figure><p>Autocomplete suggestions and type information for data are available on this context in life-cycle hooks, methods, computed and watch handlers.</p><h2>2. Props</h2><p>For primitive props, VS Code can infer type information automatically.</p><p><img src="/assets/20-Cg4DW3vD.png" alt="Vue component options with props as object map of types"></p><p><img src="/assets/21-CmyH3I-R.png" alt="Vue component options with props as validator options having type key"></p><p>However, if you have Object or Array as the type, then auto-inferred type information is useless. In such cases, we have to provide type information with a @type annotation.</p><p><img src="/assets/22-DR5o5qSS.png" alt="Vue component options with props as object map of types having complex types"></p><p>It even works with the validator options syntax for props.</p><p><img src="/assets/23-DVc9JlQh.png" alt="Vue component options with props as validator options having type key having complex types"></p><p>When defining prop names as an array, it&#39;s a little complex to provide type information. It is discouraged to use names array for props definition.</p><p><img src="/assets/24-CbLZXw7V.png" alt="Discouraged syntax for prop definition in Vue component options"></p><h2>3. Computed</h2><p>For computed properties, automatic return type inference does not work as expected but it does provide computed property names in suggestions.</p><p><img src="/assets/25-DjRbyL78.png" alt="Vue component’s computed property in VS Code suggestions"></p><p>So with a @returns annotation, we can provide type information for the returned value as well.</p><p><img src="/assets/26-C0DEYuO4.png" alt="Vue component’s computed property with type information inferred from JSDoc in VS Code suggestions"></p><h2>4. Methods</h2><p>Method names are available in VS Code suggestions on this context, but they lack type information.</p><p><img src="/assets/27-CWVjhiti.png" alt="Vue component’s method name autocomplete suggestion in VS Code"></p><p>Here, we see the add method accepts one parameter text and returns a number, the auto inferred information is already beneficial, and if we can provide type information for the text parameter, we get the complete experience of a typed language. Moreover, we can add types to parameters using the <code>@param</code> annotation.</p><p><img src="/assets/28-B1G3HcBE.png" alt="Vue component’s method name autocomplete suggestion in VS Code with complete type information"></p><p>We can even provide a small description of the method if it’s not clear from its name.</p><p><img src="/assets/29-Ck_l4EDS.png" alt="Vue component’s method name autocomplete suggestion in VS Code with complete type information and custom description"></p><p>VS Code supports even more JSDoc annotations; you can find the complete list of supported annotations on the <a href="https://github.com/Microsoft/TypeScript/wiki/JsDoc-support-in-JavaScript" target="_blank" rel="noopener noreferrer">VS Code wiki page</a>.</p><h2>Can we do strict type checks in JavaScript?</h2><p>Yes, it’s possible, add <code>// @ts-check</code> at the start of the script in .vue file.</p><p><img src="/assets/30-jfmENuE8.png" alt="Strict type check errors in JavaScript"></p><p>If you want to enable strict type checks in the whole project, then you should add a jsconfig.json file to the project root.</p><pre class="shiki shiki-themes min-light min-dark" style="background-color:light-dark(#ffffff, #1f1f1f);--shiki-light-bg:#ffffff;--shiki-dark-bg:#1f1f1f;color:light-dark(#24292eff, #b392f0);--shiki-light:#24292eff;--shiki-dark:#b392f0;" tabindex="0"><code class="language-json"><span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">{</span></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F8F8F8);--shiki-light:#D32F2F;--shiki-dark:#F8F8F8;">  &quot;compilerOptions&quot;</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">:</span><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {</span></span>
<span class="line"><span style="color:light-dark(#D32F2F, #F8F8F8);--shiki-light:#D32F2F;--shiki-dark:#F8F8F8;">    &quot;checkJs&quot;</span><span style="color:light-dark(#212121, #BBBBBB);--shiki-light:#212121;--shiki-dark:#BBBBBB;">:</span><span style="color:light-dark(#1976D2, #79B8FF);--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">  }</span></span>
<span class="line"><span style="color:light-dark(#24292EFF, #B392F0);--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre><p>You can find more options at the <a href="https://code.visualstudio.com/docs/languages/jsconfig" target="_blank" rel="noopener noreferrer">jsconfig.json reference</a>.</p><blockquote><p><del>I will be writing a separate article for adding type information with vuex and vue-router.</del> <a href="https://znck.dev/blog/2018-type-vuex" target="_blank" rel="noopener noreferrer">Type Vuex without TypeScript</a></p></blockquote><!--]--><!--]--></article></main><!--]--><!--]--></article></main><!--]--><!--]--></article></main><!--]--><!--]--></article></main><!--]--><!--]--></article></main><!--]--></div>
  </body>
</html>